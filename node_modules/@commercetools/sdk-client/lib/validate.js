'use strict'

Object.defineProperty(exports, '__esModule', {
  value: true,
})
exports.default = validate

var _http = require('http')

function validate(funcName, request) {
  var options =
    arguments.length > 2 && arguments[2] !== undefined
      ? arguments[2]
      : { allowedMethods: _http.METHODS }

  if (!request)
    // eslint-disable-next-line max-len
    throw new Error(
      'The "' +
        funcName +
        '" function requires a "Request" object as an argument. See https://commercetools.github.io/nodejs/sdk/Glossary.html#clientrequest'
    )

  if (typeof request.uri !== 'string')
    // eslint-disable-next-line max-len
    throw new Error(
      'The "' +
        funcName +
        '" Request object requires a valid uri. See https://commercetools.github.io/nodejs/sdk/Glossary.html#clientrequest'
    )

  if (!(options.allowedMethods.indexOf(request.method) !== -1))
    // eslint-disable-next-line max-len
    throw new Error(
      'The "' +
        funcName +
        '" Request object requires a valid method. See https://commercetools.github.io/nodejs/sdk/Glossary.html#clientrequest'
    )
}
